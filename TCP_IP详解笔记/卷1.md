## TCP/IP分层

TCP/IP被认为是四层协议系统，从下向上依次为：

1. `链路层`，也称为`数据链路层`或`网路接口层`

   + 包括操作系统中的`设备驱动`和计算机中对应的`网络接口卡`
   + 处理物理接口细节

2. `网络层`，也称为`互联网层`

   + 处理分组在网络中的活动
   + 网络协议层主要包括：
     + IP协议          ---->   网际协议
     + ICMP协议    ---->   Internet互联网控制报文协议
     + IGMP协议    ---->   Internet组管理协议

3. `运输层`

   + 提供端到端的通信。主要有`TCP(传输控制协议)`和`UDP(用户数据协议)`两种传输协议
   + TCP：
     + 提供高可靠性的数据通信
     + 将应用层的数据进行合理的分组，通过网络层进行传输，同时，需要确认接受和发送
   + UDP：
     + 仅提供简单的传输服务
     + 不保证数据能够到达另一端

4. `应用层`：

   + 负责处理特定的应用程序细节
   + 常见的
     + Telnet远程登陆
     + FTP文件传输协议
     + SMTP简单邮件传输协议
     + SNMP简单网络管理协议

   

> 在同一层，通信双方都有对应的一个或多个通信协议



**TCP/IP协议簇是一组不同协议组合在一起构成的协议簇**



例子：

![局域网上运行FTP的两台主机](F:\学习笔记\TCP_IP详解笔记\lib\卷1_1_四层协议系统.png)



**运输层存在的作用**：

​	在网络层IP，使用的是逐跳(`Hop-by-hop`)协议  ，并不能提供可靠的服务，

​	为了需要确保服务的可靠，同时避免应用层实现太多细节 --->增加了运输层，通过超时重传，确认接受等机制，保证传输的可靠性



>  网桥是在链路层对网络进行互连
>
> 路由器是在网络层对网络进行互连



TCP/IP协议簇中的常见协议：

![卷1_2_TCP_IP](F:\学习笔记\TCP_IP详解笔记\lib\卷1_2_TCP_IP.png)

> TCP和UDP都使用IP协议，通过端系统和路由器进行传输
>
> ICMP是IP协议的附属协议，用于与其他主机或路由器交换错误报文和其他重要信息。`ping`和`Traceroute`都使用了ICMP
>
> IGMP是Internet组管理协议，用于将一个UDP数据报多播到多个主机
>
> ARP(地址解析协议)和RARP(逆地址解析协议)，用来转换IP层和网络接口层使用的地址



五类不同的互联网地址格式：

![卷1_3_五类互联网地址](F:\学习笔记\TCP_IP详解笔记\lib\卷1_3_五类互联网地址.png)

> A类：0.0.0.0 到 127.255.255.255
>
> B类：128.0.0.0 到 191.255.255.255
>
> C类：192.0.0.0 到 223.255.255.255
>
> D类：224.0.0.0 到 239.255.255.255
>
> E类：240.0.0.0 到 247.255.255.255



**多接口主机具有多个IP地址，每个接口对应一个IP地址**

`InterNIC`：互联网络信息中心 ，用于为接入互联网的网络分配IP地址。由三部分组成：

+ 注册服务
+ 目录和数据库服务
+ 信息服务

**`InterNIC`只分配网络号，主机号由系统管理员分配**



>  三类IP地址:
>
> + 单播地址：目的为单个主机
> + 广播地址：目的端为给定网络上的所有主机
> + 多播网络：目的端为同意组内的所有主机



域名系统(DNS)：

+ 分布式数据库
+ 提供IP地址和主机名之间的映射信息



