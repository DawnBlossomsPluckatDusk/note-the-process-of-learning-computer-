# 计算机操作系统

## 第一章 操作系统引论

### 操作系统的目标和作用

#### 目标

1. 便利性：用户不用在裸机上进行开发，应用，降低开发难度和应用成本
2. 有效性：提高硬件资源的利用率；提高系统的吞吐量(有点疑问)
3. 可扩充性：
4. 开放性：系统遵循国际标准规范(开放系统互连OSI国际标准)

#### 作用

1. OS作为用户与计算机硬件系统之间的接口
2. OS作为计算机系统资源的管理者，主要的资源：处理机，存储器，I/O设备以及文件
3. OS实现了对计算机资源的抽象

### 操作系统的发展过程

#### 未配置操作系统的计算机系统

1. 人工操作：需要人工将穿孔纸带装入输入机，再将程序和数据输入计算机
2. 脱机输入输出(`Off-Line I/O`)方式：利用一个外围机进行数据的输入和输出，CPU从磁盘中读取和写入数据

#### 单道批处理系统(`Simple Batch Processing System`)

在脱机输入输出的模式下，通过一个监督程序(Monitor)对作业进行控制，使得作业依次进行![单道批处理系统流程图](https://img-blog.csdnimg.cn/2019101317223122.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxMjA3MTExNDE0MA==,size_16,color_FFFFFF,t_70)

#### 多道批处理系统(`Multiprogrammed Batch Processing System`)

通过将待处理的作业形成一个"后备队列"，通过作业调度算法进行作业选择，可实现一定程度上的任务调度功能



#### 分时系统(Time Sharing System)

+ 定义：在一台主机上连接上了多态配有显示器和键盘的终端并由此所组成的系统，该系统允许多个用户同时通过自己的终端，以交互方式使用计算机，共享主机中的资源

+ 特征：
  + 多路性：允许多个用户共享一台主机
  + 独立性：每个用户之间的操作互不干扰
  + 及时性
  + 交互性：用户可以通过终端与系统进行广泛的人机交互

#### 实时系统(Real Time System)

+ 实时任务的类型：
  + 周期性实时任务和非周期性实时任务
  + 硬实时任务和软实时任务

### 微机操作系统的发展

#### 单用户单任务操作系统

1. CP/M
2. MS-DOS(Disk Operating System)

#### 单用户多任务操作系统

1. Windows

#### 多用户多任务操作系统

1. UNIX OS -> Solaris OS , Linux OS



### 操作系统的基本特性

在不同的操作系统中，他们各有优点与缺点，但是都具有并发，共享，虚拟和异步四个基本特征

#### 并发(Concurrence)

+ 并行与并发：

  + 并行是指两个或多个事件在同一时刻发生

  + 并发是指两个或多个事件在同一时间间隔内发生

+ 进程与线程：
  + 进程指在系统中能够独立运行并作为资源分配的基本单位，由一组机器指令，数据和堆栈等组成，是一个能够独立运行的活动实体
  + 线程是操作系统能够进行调度的最小单位，包含在进程中
  + 一个进程能够包含多个线程

#### 共享(Sharing)

在OS下的资源共享(资源复用)：指系统中的资源可供内存中多个并发执行的进程共同使用

实现资源共享的两种方法：

+ 互斥共享方法
+ 同时访问方式

#### 虚拟(Virtual)

通常利用时分复用和空分复用实现"虚拟"

##### 时分复用技术

思想：将某设备为用户服务的空闲时间服务于另一位用户

1. 虚拟处理机技术：利用多道程序设计技术，为每道程序建立至少一个进程，让多道程序并发执行
2. 虚拟设备技术

##### 空分复用技术

思想：利用存储器的空闲空间分区域存放和运行其他的多道程序，提高内存的利用率

#### 异步( `asynchronism` )

进程是以人们不可预知的速度向前推进的，此即进程的异步性

### 操作系统的主要功能

1. 处理机管理功能 

   (1) 进程控制：为作业创建进程，撤销(终止)已结束的进程，控制进程在运行过程中的状态转换

   (2) 进程同步：为多个进程的运行进行协调

   (3) 进程通信：实现相互合作进程之间的信息交换

   (4) 调度：分为作业调度(后备队列，选择作业，分配资源)和进程调度(就绪队列，选择进程，分配处理机)

2. 存储器管理功能

   + 内存分配：为程序分配内存空间；提高存储器的利用率；允许正在运行的程序申请附加的内存空间。

     两种内存分配的方式：

     + 动态分配
     + 静态分配

   + 内存保护：

     + 确保每道用户程序都仅在自己的内存空间内运行，彼此互不干扰
     + 决不允许用户访问操作系统的程序和数据，也不允许用户程序转移到非共享的其他用户程序中去执行

   + 地址映射：能够将地址空间中的逻辑地址转化为内存空间中与之对应的物理地址

   + 内存扩充：

     + 请求调入功能
     + 置换功能

3. 设备管理功能

   + 缓冲管理：在I/O设备和CPU之间设置缓冲区，缓和他们的速度不匹配问题
   + 设备分配：根据用户的I/O请求，系统现有资源和某种分配策略，为之分配所需的设备
   + 设备处理：实现CPU和设备控制器之间的通信

4. 文件管理功能

   + 文件存储空间管理：为每个文件分配必要的外存空间，提高外存利用率，进而提高文件系统的存，取速度
   + 目录管理为每个文件建立一个目录项，并对众多目录项加以有效的组织，以实现方便的按名存取
   + 文件的读/写管理和保护
     + 文件的读写管理
     + 文件保护：
       + 防止未经审核的用户存取文件
       + 防止冒名顶替存取文件
       + 防止以不正确的方式使用文件

5. 操作系统与用户之间的接口

   + 用户接口
     + 联机用户接口
     + 脱机用户接口
     + 图形用户接口
   + 程序接口

### OS结构设计



## 第二章 进程的描述与控制

### 前驱图和程序执行

### 进程的描述

### 进程控制

### 进程同步

### 经典进程的同步问题

### 进程通信

### 线程(Threads)的基本概念

### 线程的实现

## 处理机调度和死锁

### 处理机调度的层次和调度算法的目标

### 作业与作业调度

### 进程调度

### 实时调度

### 死锁概述

### 预防死锁

### 避免死锁

### 死锁的检测与解除

## 存储器管理

### 存储器的层次结构

### 程序的装入和链接

### 连续分配存储管理方式

### 对换(Swapping)

### 分页存储管理方式

### 分段存储管理方式

## 虚拟存储器

### 虚拟存储器概述

### 请求分页存储管理的方式

### 页面置换算法

### "抖动"与工作集

### 请求分段存储管理方式

## 输入输出系统

### I/O系统的功能，模型和接口

### I/O设备和设备控制器

### 中断机构和中断处理程序

### 设备驱动程序

### 与设备无关的I/O软件

### 用户层的I/O软件

### 缓冲区管理

### 磁盘存储器的性能和调度

## 文件管理

### 文件和文件系统

### 文件的逻辑结构

### 文件目录

### 文件共享

### 文件保护

## 磁盘存储器的管理

### 外村的组织方式

### 文件存储空间的管理

### 提高磁盘I/O速度的途径

### 提高磁盘可靠性的技术

### 数据一致性控制

## 操作系统接口

### 用户接口

### Shell命令语言

### 联机命令接口的实现

### 系统调用的概念和类型

### UNIX系统调用

### 系统调用的实现

## 多处理机操作系统

### 多处理机系统的基本概念

### 多处理机系统的结构

### 多处理机操作系统的特征与分类

### 进程同步

### 多处理机的进程调度

### 网络操作系统

### 分布式文件系统

## 多媒体操作系统

### 多媒体系统简介

### 多媒体文件中的各种媒体

### 多媒体进程管理中的问题和接纳控制

### 多媒体实时调度

### 多媒体服务器的特征和接纳控制

### 多媒体存储器的分配方法

### 高速缓存与磁盘调度

## 保护和安全

### 安全环境

### 数据加密技术

### 用户验证

### 用户验证

### 来自系统内部的攻击

### 来自系统外部的攻击

### 可信系统(Trusted System)
